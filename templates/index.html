{% extends "base.html" %}

{% block title %}WaveAI v3 Ultimate - Accueil{% endblock %}

{% block content %}
<div class="card">
    <h2 class="text-center mb-20">🌊 WaveAI v3 Ultimate</h2>
    <p class="text-center mb-20">
        <strong>Révolution IA complète !</strong><br>
        🎤 <strong>Parlez</strong> au lieu d'écrire • 📄 <strong>Importez</strong> vos documents • 🔄 <strong>IA hors ligne</strong> toujours active
    </p>
    
    <!-- Nouvelles fonctionnalités -->
    <div class="features-highlight">
        <div class="feature-card">
            <div class="feature-icon">🎤</div>
            <h4>Reconnaissance Vocale</h4>
            <p>Parlez directement à vos agents !</p>
        </div>
        <div class="feature-card">
            <div class="feature-icon">📄</div>
            <h4>Import Documents</h4>
            <p>Analysez vos PDF, Word, images</p>
        </div>
        <div class="feature-card">
            <div class="feature-icon">🔄</div>
            <h4>IA Hors Ligne</h4>
            <p>Toujours disponible, même sans API</p>
        </div>
        <div class="feature-card">
            <div class="feature-icon">🌐</div>
            <h4>APIs Universelles</h4>
            <p>OpenAI, Claude, Gemini, Mistral...</p>
        </div>
    </div>
    
    <div class="agents-grid">
        <a href="{{ url_for('chat_page', agent='alex') }}" class="agent-card">
            <span class="agent-emoji">📧</span>
            <div class="agent-name">Alex</div>
            <div class="agent-description">
                Assistant productivité<br>
                Gmail, emails, tâches professionnelles<br>
                <small>🎤 + 📄 + 🤖</small>
            </div>
        </a>
        
        <a href="{{ url_for('chat_page', agent='lina') }}" class="agent-card">
            <span class="agent-emoji">💼</span>
            <div class="agent-name">Lina</div>
            <div class="agent-description">
                Experte LinkedIn<br>
                Networking, posts, stratégie professionnelle<br>
                <small>🎤 + 📄 + 🧠</small>
            </div>
        </a>
        
        <a href="{{ url_for('chat_page', agent='marco') }}" class="agent-card">
            <span class="agent-emoji">📱</span>
            <div class="agent-name">Marco</div>
            <div class="agent-description">
                Expert réseaux sociaux<br>
                Contenu viral, stratégie social media<br>
                <small>🎤 + 📄 + 🔄</small>
            </div>
        </a>
        
        <a href="{{ url_for('chat_page', agent='sofia') }}" class="agent-card">
            <span class="agent-emoji">📅</span>
            <div class="agent-name">Sofia</div>
            <div class="agent-description">
                Assistante organisation<br>
                Calendrier, planning, gestion du temps<br>
                <small>🎤 + 📄 + 📅</small>
            </div>
        </a>
        
        <a href="{{ url_for('chat_page', agent='kai') }}" class="agent-card">
            <span class="agent-emoji">💬</span>
            <div class="agent-name">Kai</div>
            <div class="agent-description">
                Assistant conversationnel<br>
                Discussion naturelle, support général<br>
                <small>🎤 + 📄 + 🌟</small>
            </div>
        </a>
    </div>
</div>

<div class="card">
    <h3 class="text-center mb-20">🚀 Nouveautés WaveAI v3 Ultimate</h3>
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; text-align: center;">
        <div>
            <div style="font-size: 3em; margin-bottom: 10px;">🎤</div>
            <strong>Reconnaissance Vocale</strong><br>
            <small>Cliquez sur le micro et parlez ! Reconnaissance en français automatique.</small>
        </div>
        <div>
            <div style="font-size: 3em; margin-bottom: 10px;">📄</div>
            <strong>Import Documents</strong><br>
            <small>PDF, Word, images, texte - Analysez vos documents avec l'IA.</small>
        </div>
        <div>
            <div style="font-size: 3em; margin-bottom: 10px;">🔄</div>
            <strong>IA Hors Ligne</strong><br>
            <small>Toujours opérationnelle même sans clés API configurées.</small>
        </div>
        <div>
            <div style="font-size: 3em; margin-bottom: 10px;">🌐</div>
            <strong>Support Universel</strong><br>
            <small>OpenAI, Claude, Gemini... Toutes les APIs supportées.</small>
        </div>
    </div>
</div>

<div class="card">
    <h3 class="text-center mb-20">⚙️ Configuration Intelligente</h3>
    <p class="text-center mb-20">
        WaveAI v3 Ultimate fonctionne <strong>immédiatement</strong> grâce à l'IA hors ligne !<br>
        Pour plus de puissance, ajoutez vos APIs préférées.
    </p>
    
    <div class="config-options">
        <div class="config-card">
            <div class="config-icon">🔄</div>
            <h4>Mode Gratuit</h4>
            <p>IA hors ligne toujours active</p>
            <span class="status-badge active">✅ Actif</span>
        </div>
        <div class="config-card">
            <div class="config-icon">🤖</div>
            <h4>OpenAI GPT</h4>
            <p>Pour des réponses premium</p>
            <span class="status-badge" id="openaiConfigStatus">⚙️ Configurer</span>
        </div>
        <div class="config-card">
            <div class="config-icon">🧠</div>
            <h4>Anthropic Claude</h4>
            <p>Alternative intelligente</p>
            <span class="status-badge" id="anthropicConfigStatus">⚙️ Configurer</span>
        </div>
    </div>
    
    <div class="text-center">
        <a href="{{ url_for('settings') }}" class="btn btn-secondary">
            ⚙️ Configuration Complète
        </a>
    </div>
</div>

<div class="card">
    <h3 class="text-center mb-20">📱 Comment utiliser les nouvelles fonctionnalités</h3>
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px;">
        <div>
            <h4>🎤 Reconnaissance Vocale</h4>
            <ol style="margin-left: 20px; line-height: 1.6;">
                <li>Cliquez sur l'agent de votre choix</li>
                <li>Cliquez sur le bouton <strong>🎤</strong></li>
                <li>Parlez clairement en français</li>
                <li>Votre message s'écrit automatiquement</li>
                <li>Envoyez ou continuez à parler</li>
            </ol>
        </div>
        <div>
            <h4>📄 Import de Documents</h4>
            <ol style="margin-left: 20px; line-height: 1.6;">
                <li>Dans le chat, cliquez sur <strong>📄</strong></li>
                <li>Sélectionnez votre document</li>
                <li>Le fichier est prévisualisé</li>
                <li>Posez votre question sur le document</li>
                <li>L'IA analyse et répond</li>
            </ol>
        </div>
    </div>
</div>

<div class="card">
    <h3 class="text-center mb-20">✨ Fonctionnalités Avancées</h3>
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px;">
        <div>
            <h4>🎯 IA Contextuelle</h4>
            <p>Chaque agent est spécialisé dans son domaine avec des réponses expertes adaptées.</p>
        </div>
        <div>
            <h4>🔄 Fallback Intelligent</h4>
            <p>Si une API échoue, WaveAI bascule automatiquement sur l'alternative disponible.</p>
        </div>
        <div>
            <h4>📱 Responsive Design</h4>
            <p>Interface optimisée pour desktop, tablette et mobile avec reconnaissance vocale.</p>
        </div>
        <div>
            <h4>🔐 Sécurité Maximale</h4>
            <p>Clés API stockées localement, aucune donnée transmise à nos serveurs.</p>
        </div>
    </div>
</div>

<style>
.features-highlight {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 20px;
    margin: 30px 0;
}

.feature-card {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 25px;
    border-radius: 15px;
    text-align: center;
    transition: transform 0.3s ease;
}

.feature-card:hover {
    transform: translateY(-5px);
}

.feature-icon {
    font-size: 3em;
    margin-bottom: 15px;
}

.feature-card h4 {
    margin-bottom: 10px;
    font-size: 1.2em;
}

.feature-card p {
    margin: 0;
    opacity: 0.9;
    font-size: 0.9em;
}

.config-options {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 20px;
    margin: 30px 0;
}

.config-card {
    background: white;
    border: 2px solid #e1e5e9;
    border-radius: 15px;
    padding: 20px;
    text-align: center;
    transition: all 0.3s ease;
}

.config-card:hover {
    border-color: #667eea;
    transform: translateY(-2px);
}

.config-icon {
    font-size: 2.5em;
    margin-bottom: 15px;
}

.config-card h4 {
    margin-bottom: 10px;
    color: #333;
}

.config-card p {
    margin-bottom: 15px;
    color: #666;
    font-size: 0.9em;
}

.status-badge {
    padding: 5px 12px;
    border-radius: 15px;
    font-size: 0.8em;
    font-weight: bold;
}

.status-badge.active {
    background: #d4edda;
    color: #155724;
}

.status-badge:not(.active) {
    background: #fff3cd;
    color: #856404;
}

/* Mise à jour des cartes agents */
.agent-card small {
    display: block;
    margin-top: 8px;
    color: #667eea;
    font-weight: bold;
}

/* Responsive */
@media (max-width: 768px) {
    .features-highlight {
        grid-template-columns: repeat(2, 1fr);
    }
    
    .config-options {
        grid-template-columns: 1fr;
    }
    
    .feature-card {
        padding: 20px;
    }
    
    .feature-icon {
        font-size: 2.5em;
    }
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
    // Mettre à jour les status de configuration
    function updateConfigStatus() {
        const openaiKey = localStorage.getItem('waveai_openai_key');
        const anthropicKey = localStorage.getItem('waveai_anthropic_key');
        
        const openaiStatus = document.getElementById('openaiConfigStatus');
        const anthropicStatus = document.getElementById('anthropicConfigStatus');
        
        if (openaiKey && openaiKey.length > 40) {
            openaiStatus.textContent = '✅ Configuré';
            openaiStatus.classList.add('active');
        }
        
        if (anthropicKey && anthropicKey.length > 50) {
            anthropicStatus.textContent = '✅ Configuré';
            anthropicStatus.classList.add('active');
        }
    }
    
    // Initialiser
    updateConfigStatus();
    
    // Mettre à jour périodiquement
    setInterval(updateConfigStatus, 2000);
});
</script>
{% endblock %}
